<view class="page">

  <!-- È°∂ÈÉ®ÊêúÁ¥¢Ê†èÔºàÁëûÂπ∏È£éÊ†ºÔºâ -->
  <view class="lux-search-bar">

    

    <!-- ÊêúÁ¥¢Ê°Ü -->
    <view class="lux-search-box">
      <!-- ÊêúÁ¥¢ÂõæÊ†á -->
      <image 
        class="lux-search-icon"
        src="cloud://cloud1-7gdjikngb178cdba.636c-cloud1-7gdjikngb178cdba-1307001048/iconfont/search.png"
        mode="widthFix"
      />

      <input
        class="lux-search-input"
        type="text"
        placeholder="{{placeholderText}}"
        placeholder-style="color:#bbb;font-size:14px"
        value="{{keyword}}"
        bindinput="onInput"
        bindfocus="onFocus"
        bindblur="onBlur"
        bindconfirm="onSearch"
      />
    </view>

    <!-- Âè≥‰æßÊåâÈíÆ -->
    <view class="lux-search-btn" bindtap="onSearch">ÊêúÁ¥¢</view>

  </view>


  <!-- üîΩ ËÅîÊÉ≥ÊèêÁ§∫ÊµÆÂ±ÇÔºàÊÇ¨ÊµÆÔºå‰∏çÂΩ±Âìç‰∏ãÊñπÂ∏ÉÂ±ÄÔºâ -->
  <view 
    wx:if="{{showSuggest && suggestList.length}}" 
    class="suggest-list"
  >
    <view 
      wx:for="{{suggestList}}" 
      wx:key="*this"
      class="suggest-item"
      data-item="{{item}}"
      bindtap="selectSuggest"
    >
      {{item}}
    </view>
  </view>


  <!-- ‰∏ª‰ΩìÂ∏ÉÂ±Ä -->
  <view class="layout">

    <!-- Â∑¶‰æßÂàÜÁ±ªÔºàÂõ∫ÂÆö‰∏çÊªöÂä®Ôºâ -->
    <view class="sidebar">

      <view 
        wx:for="{{categoryList}}"
        wx:key="_id"
        class="side-item {{activeIndex == index ? 'active' : ''}}"
        data-index="{{index}}"
        bindtap="changeCategory"
      >

        <!-- Â∑¶‰æßÈ´ò‰∫ÆÁ´ñÊù° -->
        <view 
          wx:if="{{activeIndex == index}}" 
          class="active-bar">
        </view>

        <!-- ÂàÜÁ±ªÊñáÂ≠ó + ÂõæÊ†áÂÆπÂô® -->
        <view class="name-box">

          <!-- Á§ºÁõíÁ≥ªÂàó -->
          <tag-badge
            wx:if="{{item.cat_name === 'Á§ºÁõíÁ≥ªÂàó'}}"
            text="ËáªÈÄâÂ•ΩÁ§º"
            bgColor="#d9c59a"
            class="tag-new"
          />

          <!-- ÊªãÂçáÁéâÁ±≥Á≤â -->
          <tag-badge
            wx:if="{{item.cat_name === 'ÊªãÂçáÁéâÁ±≥Á≤â'}}"
            text="ÊØèÊó•Ëê•ÂÖª"
            bgColor="#d9c59a"
            class="tag-new"
          />

          <!-- Êñ∞ÂìÅ‰∏äÂ∏ÇÂõæÊ†á -->
          <image 
            wx:if="{{item.cat_name === 'Êñ∞ÂìÅ‰∏äÂ∏Ç'}}"
            class="tag-new"
            src="cloud://cloud1-7gdjikngb178cdba.636c-cloud1-7gdjikngb178cdba-1307001048/iconfont/new.png"
            mode="widthFix"
          />

          <!-- ÊûúÁèçÁ≥ªÂàóÂõæÊ†á -->
          <image 
            wx:if="{{item.cat_name === 'ÊûúÁèçÁ≥ªÂàó'}}"
            class="tag-new"
            src="cloud://cloud1-7gdjikngb178cdba.636c-cloud1-7gdjikngb178cdba-1307001048/iconfont/juice.png"
            mode="widthFix"
          />

          <!-- ÂàÜÁ±ªÂêçÁß∞ -->
          <text class="name">{{item.cat_name}}</text>
        
        </view>
      </view>

    </view>


    <!-- Âè≥‰æßÂïÜÂìÅÂàóË°® -->
    <scroll-view 
  scroll-y 
  class="goods-list"
  scroll-top="{{scrollTop}}"
>

      <view 
        wx:for="{{goods}}"
        wx:key="goods_id"
        class="goods-card"
        data-item="{{item}}"
        bindtap="goDetail"
      >

        <!-- ÂïÜÂìÅÂõæÁâá -->
        <image 
          src="{{item.image_src}}" 
          mode="aspectFill" 
          class="goods-img"
        ></image>

        <!-- ÂïÜÂìÅ‰ø°ÊÅØ -->
        <view class="goods-info">

          <!-- ÂïÜÂìÅÊ†áÈ¢òÔºàÁëûÂπ∏È£éÔºâ -->
          <view class="goods-title">{{item.goods_name}}</view>

        <!-- Ê†áÁ≠æ -->
            <view class="goods-tags">
            <view 
                wx:for="{{item.goods_tag}}" 
                wx:key="*this"
                class="tag-item"
            >
                {{item}}
            </view>
            </view>

          <!-- ÂïÜÂìÅÊèèËø∞ -->
            <view class="goods-desc">
            {{item.goods_desc}}
            </view>


        </view>

      </view>

    </scroll-view>

  </view>

</view>
